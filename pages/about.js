import Layout from "../components/Layout";
import fetch from "isomorphic-unfetch";
import Error from "./_error.js";

function About({ user, statusCode }) {
  if (statusCode) return <Error statusCode={statusCode} />;

  return (
    <Layout pageTitle="About Me" docTitle="About Me">
      <div className="c-about">
        <div className="c-about__avatar">
          <img
            src={user.avatar_url}
            alt={user.name}
            title="Me :d"
            height="150"
            width="150"
          />
        </div>

        <div className="c-about__details">
          <h2>Hey, I'm Ahmed</h2>

          <p>I'm {user.name}. A JavaScript developer from Egypt.</p>
          <p>
            That was 10 years ago (in 2011) when I fell in love with CSS. Years
            later, a friend introduced me to web development, and then I
            actually started learning Front-end development in October 2016, and
            at that point I was mind blown by all that new powers!
          </p>
          <p>
            Currently (2018-2019-2020), Iâ€™am working on improving my skills in
            Front-end development, in an attempt to be a special one of those
            people who write code and design for the web. My passion lies in
            building clean and modern code.
          </p>

          <p>
            Have questions or suggestions? Feel free to hit me up on{" "}
            <a href="https://twitter.com/ahmedhosna95">Twitter</a>.
          </p>
        </div>
      </div>

      <style jsx>{`
        .c-about {
          display: grid;
          grid-template-columns: 150px 1fr;
          grid-gap: 2rem;
        }

        .c-about__avatar {
          padding-top: 1rem;
          position: relative;
        }

        .c-about__avatar:before {
          content: "";
          width: 180px;
          height: 180px;
          display: block;
          position: absolute;
          top: -12px;
          left: -20px;
          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' data-name='Layer 0 Image' width='800' height='600' version='0' fill='%23fcf0d9'%3E%3Cpath d='M232.813 345.242c.358-16.684 2.647-33.138 8.43-48.715 6.072-16.356 9.152-33.3 12.93-50.191 6.875-30.737 18.674-59.328 40.8-82.619 18.5-19.474 40.885-32.088 67.565-36.032a128.2 128.2 0 0157.823 4.177 13.024 13.024 0 006.118.818c18.462-3.109 36.014.169 53.014 7.483 20.759 8.93 39.128 21.293 54.415 38.012 11.733 12.832 21 27.355 26.442 43.847 6.188 18.758 8.9 38.033 5.084 57.838-.9 4.656-.534 9.837-1.882 14.141-1.66 5.3-2.387 10.779-4.116 15.98-2.956 8.892-3.981 18.162-6.008 27.23a148.972 148.972 0 01-11.962 32.651c-7.074 14.527-15.993 28.029-27.471 39.3-10.219 10.035-20.777 19.777-33.5 27.134-9.095 5.258-17.8 11.264-27.245 16-30.507 15.283-62.647 23.311-96.9 21.215-26.468-1.619-50.847-9.721-72.333-25.5-30.011-22.042-46.472-51.889-50.235-88.829-.482-4.634-.657-9.294-.969-13.94zm48.209-155.495c-1.37.034-1.869 1.164-2.4 2.085-5.057 8.694-9.68 17.634-12.789 27.205-1.064 3.276-3.985 6.088-3.166 10.126a4.747 4.747 0 002.857-4.308c.15-3.3 1.821-6.076 3.17-8.963q6.125-13.11 12.229-26.232l17.43-22.853c-3.955 3.541-7.808 7.124-10.759 11.551-2.443 3.659-5.988 6.664-6.572 11.389zm111.843-35.1c-9.107 1.509-16.108 4.36-22.233 9.314-6.2 5.013-9.939 11.753-13.962 18.52a126.053 126.053 0 00-12.246 29.371 164.823 164.823 0 00-5.414 27.685c-2.488 22.33-2.858 44.36 3.532 66.217 6.666 22.8 17.652 42.794 35.705 58.609 29.251 25.625 65.592 29.968 99.939 14.566a11.513 11.513 0 005.58-4.4 159.575 159.575 0 0018.144-45.307 181.171 181.171 0 002.9-65.478c-4.16-31.527-15.526-59.866-37.391-83.346-11.329-12.166-23.662-23.2-40.858-26.473-5.131-.976-10.849-2.921-15 1.338a69.678 69.678 0 00-11.876 15.637c-12.852 24.3-15.551 49.9-7.736 76.324 3.039 10.276 9.547 18.208 18.638 24.014 1.727 1.1 5.289 1.836 4.1 4.364-1.052 2.232-4.395 1.595-6.837.895a10.492 10.492 0 01-2.588-1.245c-10.179-6.336-18.534-14.473-23.084-25.708-9.658-23.85-8.568-47.984-1.051-72.144 2.432-7.831 6.441-14.918 11.738-22.757zm-58.776 33.131a10.368 10.368 0 00-2.137.914c-12.616 10.43-23.74 22.352-34.25 34.835a216.106 216.106 0 00-21.228 30.913c-4.27 7.355-8.365 14.952-9.314 23.728-2.306 21.322-1.888 42.514 2.409 63.593 6.13 30.065 17.4 57.569 38.969 80.138a89.822 89.822 0 0039.131 24.291c24.392 7.449 47.252 1.211 69.306-9.375 14.269-6.848 26.81-16.374 38.5-26.894a75.55 75.55 0 0014.644-16.975c-7.508.857-14.013 2.519-20.7 3.224-22.738 2.4-44.068-2.2-64.008-12.805-27.128-14.427-45.319-36.825-55.578-65.618-13.069-36.684-12.125-73.72-1.915-110.839 1.73-6.281 3.988-12.408 6.171-19.134zM531.62 357.6a4.665 4.665 0 00-4.273 1.752c-4.659 5.818-10.677 9.774-16.861 13.816a395.263 395.263 0 01-10.812 6.836c-5.923 3.6-9.089 9.655-13.258 14.891-12.4 15.577-26.663 29.181-43.583 39.967-20.194 12.872-41.593 21.254-65.918 22.321a107.41 107.41 0 01-37.7-4.542c-20.086-6.305-36.28-18.092-50.07-33.381-20.632-22.875-31.173-50.58-37.034-80.362-.443-2.253-1.118-4.461-1.684-6.691-1.566 5.569-1.332 10.989-1.425 16.4a119.732 119.732 0 0016.764 62.99 102.758 102.758 0 0046.756 42.185c18.124 8.281 37.077 12.3 56.984 11.259 21.882-1.14 42.7-6.753 62.7-15.586 33.912-14.983 63.342-35.758 85.165-66.249A120.282 120.282 0 00531.62 357.6zm-76.748-201.566c2.91 4.012 7.322 6.074 10.931 9.148 20.739 17.668 34.805 39.7 44.143 65.179 9.207 25.128 10.972 51.047 8.994 77.278a169.734 169.734 0 01-11.24 47.942c-.463 1.208-1.96 2.747-.221 3.836 1.448.907 2.146-.946 3.038-1.709a107.45 107.45 0 0023-28.174c5.607-9.677 10.382-19.54 9.7-31.592-3.037-53.856-25.261-97.387-68.5-129.913a98.925 98.925 0 00-19.845-11.995zm97.084 101.593c-.29-30.73-10.225-57.666-32.488-79.367-19.761-19.263-41.986-34.119-70.52-36.837 50.952 24.123 85.245 62.732 103.008 116.204zm-268.911-38.951c.616-.695 1.251-1.375 1.848-2.087a290.346 290.346 0 0140.908-39.95c8.414-6.761 18.377-11.4 26.522-18.275 9.051-7.635 18.1-14.8 29.229-19.028.086-.033.011-.492.011-1.237-23.025 1.912-43.226 10.7-60.606 25.388-17.484 14.779-31.865 32.113-37.912 55.189zm217.722 124.746c2.168-4.442 4.132-9.259 3.841-14.647l-3.841 14.647zm-3.691 13.414l-1.082-.66-4.777 10.678c2.411-3.14 4.955-6.192 5.859-10.018z'/%3E%3C/svg%3E%0A");
          background-repeat: no-repeat;
          background-position: center;
          background-size: 232%;
          padding-top: 1rem;
          z-index: -1;
          opacity: 0.75;
          transform: scale(-1);
        }

        .c-about__avatar img {
          border-radius: 50%;
          border: 1px solid #ddd;
          box-shadow: inset 1px 1px 5px rgba(0, 0, 0, 0.6);
        }

        .c-about__details h2 {
          color: hsla(40, 65%, 65%, 1);
          letter-spacing: 0;
        }
      `}</style>
    </Layout>
  );
}

About.getInitialProps = async function () {
  const res = await fetch("https://api.github.com/users/ahmedhosna95");
  const data = await res.json();
  const statusCode = res.status > 200 ? res.status : false;

  return { user: data, statusCode };
};

export default About;
